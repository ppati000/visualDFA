%note: don't split this document up with include{...}

\section{Funktionale Anforderungen}

\functionality{Zeilennummerierung}{fnc:LineNumbers}
Im Textfeld für die Eingabe des Codes gibt es eine Zeilennummerierung.

\functionality{Code Eingabe mit Editor}{fnc:CodeInputIntern}
\fulfills{crt:CodeInput}
Es gibt ein Textfeld in welches der Benutzer Code eingeben kann, welcher anschließend zu einem Kontrollflussgraphen (CFG) verarbeitet werden kann.

\functionality{Datei Eingabe}{fnc:CodeInputExt}
\fulfills{crt:CodeInputExto}
Der Benutzer kann einzulesenden Code aus einer .java Datei laden.

\functionality{Java-Subset}{fnc:minimalSubset}
\fulfills{crt:minSubset}
Das Programm unterstützt ein minimales Subset von Java.
Unterstützt werden:
\begin{enumerate}[label=(\alph*)]
\item Die Arithmetischen Operationen +, -, *, /,
\item die Kontrollflussstrukturen if, else, while,
\item die Vergleichsoperatoren <, >, ==,
\item die Datentypen Integer und Byte,
\item die Zuweisung =.
\end{enumerate}

\functionality{Erweitertes Subset 1}{fnc:extendedSubset1}
\fulfills{crt:extendedSubset1o}
Das Programm unterstützt zusätzlich zum minimalen Subset noch:
Die Operatoren \%, <<, >>, |, \&.

\functionality{Erweitertes Subset 2}{fnc:extendedSubset2}
\fulfills{crt:extendedSubset1o}
Das Programm unterstützt zusätzlich zum minimalen Subset noch:
For-Schleifen und else-if.

\functionality{Erweitertes Subset 3}{fnc:extendedSubset3}
\fulfills{crt:extendedSubset1o}
Das Programm unterstützt zusätzlich zum minimalen Subset noch:
Die Zuweisungen +=, -=, *=, /=, \%=.

\functionality{Syntaxfehler}{fnc:syntaxError}
\fulfills{crt:minSubset}
\fulfills{crt:lineNmbrErrorO}
Enthält der vom Benutzer eingegebene Code Syntaxfehler, so erhält der Benutzer eine Fehlermeldung, deren Informationsgehalt der Fehlermeldung des Compilers entspricht.

\functionality{Nichtunterstützte Operationen}{fnc:OpsError}
\fulfills{crt:minSubset}
\fulfills{crt:lineNmbrErrorO}
Der Benutzer bekommt eine Fehlermeldung, wenn in der zu analysierenden Funktion Operationen und Kontrollflusskonstrukten vorhanden sind, welche nicht dem definierten Subset von Java entsprechen. Die Fehlermeldung weißt auf das unterstütze Java-Subset hin.

\functionality{Anzeigen des Kontrollflussgraphen (CFG)}{fnc:showCFGf}
\fulfills{crt:CFG}
Die GUI kann den aus dem Java-Code erstellten CFG in einem Zwischencode anzeigen. Der CFG ist in einem Panel (im Folgenden als Graph-Panel bezeichnet) dargestellt.

\functionality{Interaktion mit dem Kontrollflussgraphen 1}{fnc:interactCFG1f}
\fulfills{crt:GraphLayoutO}
\fulfills{crt:BreakpointsO}
Der Benutzer kann mit der GUI des CFG interagieren, um Breakpoints zu setzen.

\functionality{Interaktion mit dem Kontrollflussgraphen 2}{fnc:interactCFG2f}
\fulfills{crt:GraphLayoutO}
Der Benutzer kann mit der GUI des CFG interagieren, um zu scrollen.

\functionality{Interaktion mit dem Kontrollflussgraphen 3}{fnc:interactCFG2bf}
\fulfills{crt:GraphLayoutO}
Der Benutzer kann mit der GUI des CFG interagieren, um zu zoomen.

\functionality{Interaktion mit dem Kontrollflussgraphen 4}{fnc:interactCFG3f}
\fulfills{crt:GraphLayoutO}
Der Benutzer kann mit der GUI des CFG interagieren, um Blöcke, beziehungsweise Zeilen auszuwählen.

\functionality{Auswahl der Datenflussanalysen}{fnc:pickAnalysis}
\fulfills{crt:DFA}
\fulfills{crt:DFAArtenO}
Der Benutzer kann zwischen allen implementierten Datenflussanalysen auswählen und sie auf den CFG anwenden.

\functionality{Blockweise durchlaufen der Analyse}{fnc:blockAnalysis}
\fulfills{crt:ShowAnalysis}
\fulfills{crt:backwardsAnalysisO}
Der Benutzer kann die Analyse blockweise durchlaufen. Dafür stehen ihm Buttons zur Verfügung.\par
\faFastForward\ : Springt einen Block weiter.\par
\faFastBackward\ : Springt einen Block zurück.

\functionality{Zeilenweise durchlaufen der Analyse}{fnc:lineAnalysis}
\fulfills{crt:lineAnalysisO}
\fulfills{crt:backwardsAnalysisO}
Der Benutzer kann die Analyse zeilenweise durchlaufen. Dafür stehen ihm Buttons zur Verfügung.\par
\faForward\ : springt eine Zeile weiter.\par
\faBackward\ : springt eine Zeile zurück.

\functionality{Abbrechen der Analyse}{fnc:stopAnalysisf}
\fulfills{crt:AbortAnalysis}
Der Benutzer kann eine laufende Analyse abbrechen, um neuen Code analysieren zu lassen.

\functionality{Automatisches durchlaufen der Analyse}{fnc:automaticAnalysis}
\fulfills{crt:Fixpunkt}
Der Benutzer kann den \faPlay\ Button betätigen, um die Analyse automatisch bis zum Fixpunkt zu durchlaufen.

\functionality{Automatisches durchlaufen bis Breakpoint}{fnc:breakAnalysisf}
\fulfills{crt:BreakpointsO}
Der Nutzer kann den \faPlay\ Button betätigen, um automatisch bis zum nächsten Breakpoint zu laufen.

\functionality{Worklistalgorithmen}{fnc:worklistNaive}
\fulfills{crt:Fixpunkt}
Das Programm kann zur Fixpunktanalyse den naiven Worklistalgorithmus anwenden.

\functionality{Erweiterte Worklistalgorithmen}{fnc:moreWorklist}
\fulfills{crt:WorklistO}
Der Nutzer kann zwischen verschiedenen Worklistalgorithmen wählen. Diese
entscheiden, in welcher Reihenfolge die Knoten in der Datenflussanalyse behandelt
werden. Es stehen folgende Algorithmen zur Auswahl:
\begin{enumerate}[label=(\alph*)]
\item \textbf{Naiv} \par
Es werden alle Knoten in der Reihenfolge in der sie „entdeckt“ werden (Breitensuche) in die Worklist geschrieben und anschließend in dieser Reihenfolge abgearbeitet.
\item \textbf{Random} \par
Die Blöcke werden wie beim naiven Worklistalgorithmus auf die Worklist geschrieben. Am Ende der Abarbeitung jedes Knotens in der Analyse wird zufällig einer der Blöcke auf der Worklist gewählt und behandelt.
\item \textbf{Efficient} \par
Die Reihenfolge der Abarbeitung der Blöcke wird optimiert, sodass der Fixpunkt im Mittel mit einer geringeren Anzahl von Schritten gefunden wird.
\end{enumerate}

\functionality{Code speichern}{fnc:saveCode}
\fulfills{crt:CodeInputExto}
Der Benutzer kann den Inhalt des Textfeldes zur Codeeingabe in einer .java Datei abspeichern.

\functionality{Hotkeys}{fnc:Hotkeys}
\fulfills{crt:DFAo}
Dem Benutzer stehen Hotkeys zur Verfügung mit Hilfe derer er die Datenflussanalyse steuern kann.

\functionality{Optisches Hervorheben der Blöcke}{fnc:Highlights}
\fulfills{crt:HighlightingO}
Je nach Status werden die Blöcke im Kontrollflussgraphen farbig hervorgehoben. Folgende Zustände werden unterschieden:
\begin{enumerate}[label=(\alph*)]
\item Noch nicht besucht.
\item Auf der Worklist.
\item Gerade ausgewählt.
\item Bereits besucht und nicht mehr auf der Worklist.
\end{enumerate}

\functionality{Eingangs- und Ausgangszustand von Blöcken}{fnc:inOutBlockf}
\fulfills{crt:ShowAnalysis}
Dem Benutzer werden Eingangs- und Ausgangszustand des ausgewählten Blocks in einem GUI-Element angezeigt.

\functionality{Eingans- und Ausgangszustand von Zeilen}{fnc:inOutLinef}
\fulfills{crt:lineAnalysisO}
Dem Benutzer werden Eingangs- und Ausgangszustand der ausgewählten Zeile in einem GUI-Element angezeigt.

\functionality{CFG exportieren}{fnc:exportAsPicf}
\fulfills{crt:exportPicO}
Der Benutzer kann von allen Schritten der Analyse ein Bild des CFG abspeichern.

\functionality{Delay-Optionen}{fnc:Delayf}
\fulfills{crt:DelayO}
Der Nutzer kann zwischen den automatischen Schritten eine Zeitverzögerung einstellen. Diese reicht von 0 Sekunden künstlichem Delay (so schnell es geht) bis hin zu einigen Sekunden Verzögerung.

\functionality{Ungespeicherte Änderungen}{fnc:unsavedChangesf}
Gibt es ungespeicherte Änderungen im Editor, wenn der Benutzer das Programm schließen möchte, so wird er gefragt, ob er diese speichern möchte.
Falls der Benutzer eine neue .java Datei öffnen möchte und ungespeicherte Änderungen vorliegen, so wird der Benutzer gewarnt, dass diese Änderungen verfallen.

\functionality{Mehrere Funktionen}{fnc:moreFncf}
\fulfills{crt:moreFncO}
Der Nutzer kann Java-Code einlesen oder eingeben, welcher mehrere Funktionen
enthält. Liegen mehrere Funktionen vor, so fragt das Programm vor Start der Analyse welche Funktion analysiert werden soll.

\functionality{Jump to Action}{fnc:jumpToActionf}
\fulfills{crt:JumpToActionO}
Der Benutzer kann mit Hilfe eines Buttons das automatische Springen zum aktiven Block, beziehungsweise zur aktiven Zeile aktivieren. Dieser bleibt so lange aktiv bis der Button erneut betätigt wird.

\functionality{Manual Page}{fnc:ManPagef}
\fulfills{crt:ManPageO}
Dem Programm liegt eine Manual Page bei, in welcher der Benutzer über die wichtigsten Funktionen des Programms informiert wird.

\functionality{Fortschrittsanzeige}{fnc:ProgressBarf}
\fulfills{crt:ProgressBarO}
Das Programm besitzt einen Fortschrittsbalken. Dieser zeigt zu jedem Zeitpunkt der Analyse, wie viele Schritte im Verhältnis zur Gesamtzahl der Schritte bereits erfolgt sind.

\functionality{Springen zu beliebigem Analysepunkt}{fnc:Sliderf}
\fulfills{crt:SliderO}
Das Programm besitzt einen Slider, mit welchem der Benutzer zu bestimmten Punkten der Analyse springen kann. Hierbei wird immer an den Beginn eines Blocks gesprungen.

\functionality{Implementieren einer eigenen Datenflussanalyse}{fnc:OwnAnalysef}
\fulfills{crt:OwnAnalyseO}
Das Nutzer kann eigene Datenflussanalysen implementieren. Dazu kann er Java-Plugins schreiben, die geladen werden können. Es steht eine API zur Verfügung, mittels derer Datenflussanalysen implementiert werden können.