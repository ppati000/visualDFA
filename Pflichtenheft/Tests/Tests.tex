%TODO Anführungszeichen richtig machen
\section{Tests (Allgemein)}

\test{Interaktion mit dem Programm unabhängig von aktueller Analyse}{tst:general}
\tests{}

\teststep{Der Benutzer hat das Programm noch nicht geöffnet.}
{Der Benutzer klickt auf die entsprechende Ausführungsdatei.}
{Das Programm öffnet sich mit den definierten GUI Eigenschaften.}

\teststep{Der Benutzer befindet sich an einer beliebigen Stelle des Arbeitsflusses.}
{Der Nutzer ändert die Fenstergröße.}
{Der Inhalt des Fensters wird dynamisch angepasst.}

\teststep{[opt] Der Benutzer befindet sich an einer beliebigen Stelle des Arbeitsflusses.}
{Der Benutzer ruft über den Hilfebutton die Hilfefunktion auf.}
{Die Manual Page öffnet sich, welche die wichtigsten Funktionen unseres Programms kurz zusammenfasst.}

\teststep{[opt]Der Benutzer befindet sich an einer beliebigen Stelle des Arbeitsflusses.}
{Er klickt entweder rechts oder links auf einen Pfeil/Button, der die Leiste verkleinern soll.}
{Die entsprechend ausgewählte Leiste wir ausgeblendet und das Graph-Panel wird um den frei gewordenen Platz erweitert.}

\teststep{[opt]Der Benutzer befindet sich an einer beliebigen Stelle des Arbeitsflusses. Im Editor steht Java-Code der bisher nicht gespeichert wurde.}
{Der Benutzer klickt auf einen Button, der zum schließen des Programms führt.}
{In einem Fenster wird darauf hingewiesen, dass die Änderungen, bei Fortsetzung der Aktion, verloren gehen und eine Möglichkeit, den Vorgang abzubrechen wird gegeben.}

\test{Importieren, schreiben und speichern von Code für die Analyse}{test:code}
\tests{}

\teststep{Der Benutzer befindet sich nicht in einer aktuellen Analyse und hat noch keinen Java-Code für die Analyse zur Verfügung.}
{Der Benutzer tippt den zu analysierenden Code in ein Textfeld.}
{Dieser Code steht für die Analyse zur Verfügung.}

\teststep{[opt] Der Benutzer befindet sich nicht in einer aktuellen Analyse und hat noch keinen Java-Code für die Analyse zur Verfügung.}
{\glqq Open...\grqq\ wird geklickt.}
{Ein File-Chooser öffnet sich und der Benutzer kann in seinem Dateisystem nach der zu verwendenden Java-Datei suchen.}

\teststep{[opt] Der Benutzer befindet sich nicht in einer aktuellen Analyse und hat nicht gespeicherten Code in seinem Editor.}
{\glqq Open...\grqq\ wird geklickt.}
{In einem Fenster wird darauf hingewiesen, dass die Änderungen bei Fortsetzung der Aktion verloren gehen und eine Möglichkeit, den Vorgang abzubrechen wird gegeben. Wenn kein Abbruch erfolgt, öffnet sich der File-Chooser.}

\teststep{[opt]Der File-Chooser ist geöffnet.}
{Der Benutzer öffnet eine Directory die keine Datei mit der Endung .java enthält.}
{Es werden keine Dateien angezeigt.}

\teststep{[opt] Der File-Chooser ist geöffnet.}
{Eine korrekte Java-Datei wird zum importieren ausgewählt.}
{Der File-Chooser schließt sich und die Datei wird im Textfeld angezeigt.}

\teststep{[opt]Ein Code-Stück ist im Textfeld dargestellt.}
{\glqq Save... \grqq\ wird geklickt.}
{Ein Fenster öffnet sich, in dem der Nutzer den Namen der Datei und ihren Speicherort auswählen kann. Durch klicken des \glqq Speicher\grqq -Buttons wird die Datei gespeichert und das Fenster schließt sich wieder.}


\test{Auswahl der Analyseart}{tst:anaopt}
\tests{}

\teststep{Der Benutzer befindet sich nicht in einer aktuellen Analyse.}
{Der Benutzer wählt eine Programmanalyseart aus.}
{Diese Analyseart wird bei dem nächsten Aufruf von \glqq Start Analysis \grqq\ verwendet.}

\teststep{[opt] Der Benutzer befindet sich nicht in einer aktuellen Analyse.}
{Der Nutzer wählt einen Worklist-Algorithmus aus.}
{Diese Art von Worklist-Algorithmus wird beim nächsten Aufruf von \glqq Start Analysis \grqq\ verwendet.}


\test{Erstellen eines Kontrollflussgraphen}{tst:creategraph}
\tests{}

\teststep{[ggf. opt] Ein Code-Stück, welches nur gültige Java-Syntax aus dem von uns unterstützen Java-Subset enthält, ist im Textfeld dargestellt. Es besteht aus nur einer Methode.}
{\glqq Start Analysis \grqq\ wird geklickt}
{Der Kontrollflussgraph wird im Graph-Panel dargestellt und die Animation kann jetzt mit \faStepForward\ oder \faPlay\ gestartet werden. Eine Änderung der Analyseart oder des Codes ist nur noch durch einen Abbruch mit \faStop\ möglich.}

\teststep{Ein Code-Stück ist im Textfeld dargestellt, das entweder nicht gültige Java-Syntax enthält, oder solchen Java-Code, dessen übersetzter Zwischencode nicht identisch zum Zwischencode eines Parts unseres unterstützen Java-Subsets ist.}
{\glqq Start Analysis \grqq\ wird geklickt.}
{Der Graph wird nicht erstellt, eine aussagekräftige Fehlermeldung wird ausgegeben, in der der Java-Error oder ein Hinweis auf das von uns unterstützte Java-Subset gegeben wird.}

\teststep{[opt]Ein Code-Stück ist im Textfeld dargestellt, das gültige Java-Syntax aus dem von uns unterstützen Java-Subset enthält. Es besteht aus mehreren Methoden.}
{\glqq Start Analysis \grqq\ wird geklickt.}
{Ein Fenster öffnet sich, in dem die Methode ausgewählt werden soll, für welche der Kontrollflussgraph erstellt und die Analyse durchgeführt werden soll.}


\test{Interaktion mit dem Kontrollflussgraphen}{tst:intcfg}
\tests{}

\teststep{[opt]Ein Kontrollflussgraph wurde erstellt.}
{Der Benutzer scrollt mit dem Mausrad nach oben bzw. unten, während sich der Mauszeiger im Graph-Panel befindet.}
{Der gesamte Graph wird entsprechend skaliert. Falls der Graph nicht vollständig im Graph-Panel angezeigt werden kann erscheinen Scroll-Leisten.}

%Wirklich?, habe das jetzt mal so festgelegt, müsste eventuell noch in die funktionalen Anforderungen mit aufgenommen werden
\teststep{[opt]Ein Graph wurde erstellt.}
{Der Benutzer verschiebt per \glqq Drag and Drop \grqq einen Knoten.}
{Der Knoten verschiebt sich an die entsprechende Stelle und alle Kanten werden entsprechend mit verschoben. Überlappen sich nun 2 Knoten befindet sich der Knoten, welcher zuletzt verschoben wurde, im Vordergrund.}

\test{Bildexport}{tst:graph}
\tests{}

\teststep{[opt]Ein Graph wurde erstellt.}
{\glqq Graph exportieren \grqq\. wird geklickt.}
{Ein Fenster öffnet sich, in dem der Benutzer wählen kann, ob er den aktuell angezeigten Zwischenschritt oder alle Zwischenschritte speichern möchte und gegebenenfalls, ob diese zeilenweise oder blockweise gespeichert werden. Außerdem kann er hier zwischen der Auflösung \glqq low \grqq\, \glqq standard \grqq\ und  \glqq  high \grqq\ wählen. Nach bestätigen dieser Eingabe öffnet sich ein File-Explorer, in dem der Name und der Speicherort der Datei festgelegt werden kann. Alle Bilder werden als .png gespeichert. Nach Bestätigung dieser Eingabe mit  \glqq Speichern \grqq\ wurde das Bild dort abgelegt.}


\test{Animationsmöglichkeiten}{tst:aniposs}
\tests{}


\teststep{Der \glqq Start Analysis \grqq\ Button wurde geklickt.}
{Es wird \faStop\ geklickt.}
{Der Nutzer wird gefragt ob er seine Analyse wirklich abbrechen möchte und wird darüber informiert, dass dieser Schritt den bisherigen Graph löscht. Bei Bestätigung dieser Meldung wird der Graph gelöscht und das Graph-Panel und Animations-Button ausgegraut. Eine Änderung des Codes und der Analyseart sind jetzt wieder möglich.}


\test{Animation in Zusammenhang mit der Delay-Auswahl}{tst:delay}
\tests{}

\teststep{Es wurde in der Zeitauswahl 0 Sekunden als Delay ausgewählt und es wurden keine Breakpoints gesetzt.}
{Es wird \faPlay\ geklickt.}
{Der Fixpunkt wird so schnell wie möglich angezeigt, alle Zwischenschritte werden in der Darstellung übersprungen.}

\teststep{[opt]Es wurde in der Zeitauswahl ein von 0 verschiedenes Delay ausgewählt, es wurden keine Breakpoints gesetzt.}
{Es wird der Button \faPlay\ geklickt.}
{Die einzelnen Schritte der Analyse werden mit einem zeitlichen Abstand, der dem ausgewählten Delay entspricht, dargestellt. Die Farben der Blöcke ändern sich je nach Zustand zwischen den verschiedenen Schritten. Zusätzlich ändert sich bei jedem Schritt die linke Leiste, welche \glqq in \grqq\ und \glqq out \grqq\ des aktuellen Schritts, sowie den aktuellen Schritt selbst anzeigt.}

\teststep{[opt]Es wurden Breakpoints innerhalb des Graphen gesetzt.}
{Es wird der Button \faPlay\ geklickt.}
{Die Analyse läuft schrittweise mit dem jeweiligen Delay ab, wobei garantiert wird, dass bei jedem Erreichen des Breakpoints die Analyse automatisch pausiert wird.}

\teststep{[opt]Die Analyse wurde gestartet und der \glqq jump to action \grqq\ Haken ist gesetzt.}
{Es wird der Button \faPlay\ geklickt.}
{Bei jedem neuen Analyseschritt, der angezeigt wird, wird der Graph so zentriert, dass der aktuell analysierte Knoten in der Mitte liegt. Passt der Graph komplett in das Graph-Panel wird nichts verändert.}


\test{Animation bei schrittweiser Berechnung}{tst:calcpart}
\tests{}

\teststep{Der \faPlay\ Button ist gedrückt.}
{Der \faStop\ Button wird gedrückt.}
{Die Analyse pausiert im aktuellen Zustand.}

\teststep{Die Analyse wurde durchgeführt und befindet sich im Zustand Pause.}
{Der Button \faForward\ wird geklickt.}
{Der Graph-Panel zeigt den Zustand der Analyse zu Beginn der nächsten Zeile an. Die Farben der Blöcke ändern sich, sowie auch das \glqq in \grqq\ und \glqq out \grqq\ der rechten Informationsleiste.}

\teststep{[opt]Die Analyse wurde durchgeführt und befindet sich im Zustand Pause.}
{Der Button \faFastForward\ wird geklickt.}
{Der Graph-Panel zeigt den Zustand der Analyse zu Beginn des nächsten Blocks an. Die Farben der Blöcke ändern sich, sowie auch das \glqq in \grqq\ und \glqq out \grqq\ der rechten Informationsleiste.}

\teststep{Die Analyse wurde durchgeführt und befindet sich im Zustand Pause.}
{Es wird der Button \faBackward\ geklickt.}
{Es wird der Zustand der Analyse in der vorhergehende Zeile angezeigt. Die Farben der Blöcke und die Informationen in der rechten Leiste zeigen wieder diesen Zustand an.}

\teststep{[opt]Die Analyse wurde durchgeführt und befindet sich im Zustand Pause.}
{Der Button \faFastBackward\ wird geklickt.}
{Es wird der Zustand der Analyse zu Beginn des aktuellen Blocks angezeigt oder der Beginn des letzten Blocks, falls derzeit die erste Zeile eines Blocks dargestellt wird. Gibt es keinen vorherigen Block wird der Startzustand angezeigt.}

\teststep{Die Analyse wurde durchgeführt und die Darstellung befindet sich eine Zeile vor dem Fixpunkt.}
{Der Button \faForward\ oder \faFastForward\ wird geklickt.}
{Es wird der Zustand der Analyse im Fixpunkt angezeigt und es wird eine Meldung gegeben, die über das Erreichen des Fixpunktes informiert.}

\test{Interaktion mit Graphen während Analyse}{tst:interaction}
\tests{}

\teststep{Die Analyse wurde an einer beliebigen Stelle angehalten.}
{Der Benutzer klickt im Graphen auf einen bestimmten Block.}
{Der \glqq in \grqq\ und \glqq out \grqq\ State zum aktuellen Analysezeitpunkt des gewählten Blocks wird in der Informationsleiste rechts eingeblendet.}

\teststep{Die Analyse wurde an einer beliebigen Stelle angehalten.}
{Der Benutzer klickt im Graphen auf eine bestimmte Zeile.}
{Der \glqq in \grqq\ und \glqq out \grqq\ State zum aktuellen Analysezeitpunkt der gewählten Zeile und des zugehörigen Blocks wird in der Informationsleiste rechts eingeblendet.}